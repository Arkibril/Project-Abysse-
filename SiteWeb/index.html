<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/parallax/3.1.0/parallax.min.js"></script>
  <title>Document</title>

</head>

<body>

  <div id="scene">
    



    <!-- <div data-depth="0.3"><Img src="img/sol7.svg"  alt="" id="sol7"></Img></div> -->


    <!-- <div data-depth="0.3"><Img src="img/sol1.svg"  alt="" id="sol1"></Img></div> -->
    <!-- <div data-depth="0.3"><Img src="img/sol2.svg"  alt="" id="sol2"></Img></div> -->
    <!-- <div data-depth="0.3"><Img src="img/sol3.svg"  alt="" id="sol3"></Img></div> -->
    <!-- <div data-depth="0.3"><Img src="img/sol4.svg"  alt="" id="sol4"></Img></div> -->
    <!-- <div data-depth="0.3"><Img src="img/sol5.svg"  alt="" id="sol5"></Img></div> -->

    <Img data-depth="0.1" src="img/Sol.svg" altb="" id="sol"></Img>
    <Img data-depth="0.01" src="img/barriere.svg" altb="" id="barriere"></Img>



    <Img data-depth="0.1" src="img/Montagne4.svg" alt="" id="mtn4"></Img>
    <Img data-depth="0.1" src="img/cayou2.svg" altb="" id="cayou2"></Img>

    <Img data-depth="0.2" src="img/Montagne3.svg" alt="" id="mtn3"></Img>

    <Img data-depth="0.3" src="img/Montagne2.svg" alt="" id="mtn2"></Img>
    <Img data-depth="0.1" src="img/cayou.svg" altb="" id="cayou"></Img>

    <Img data-depth="0.2" src="img/Montagne1.svg" alt="" id="mtn1"></Img>


    <Img data-depth="0.2" src="img/Montagne1.svg" alt="" id="mtn1BAS"></Img>
    <p id="p1" data-depth="0.1">LE POISSON LANTERNE : <br>

      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
      Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure 
      dolor in reprehenderit in voluptate velit esse </p>
    <Img data-depth="0.3" src="img/le-poisson-lanterne-pratique-une-etonnante-symbiose (1) 2.png" alt="" id="Poisson1BAS"></Img>

      
    <Img data-depth="0.2" src="img/Montagne4.svg" alt="" id="mtn2BAS"></Img>
    <p id="p2" data-depth="0.1">LE POISSON LANTERNE : <br>

      Lorem ipsum dolor sit amet, consectetur adipiscing elit, <br> do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
      Ut enim ad minim<br> veniam, quis nostrud exercitation ullamco laboris <br>nisi ut aliquip ex ea commodo consequat. Duis aute irure 
      dolor in reprehenderit<br> in voluptate velit esse </p>
    <Img data-depth="0.3" src="img/Fish4104_-_Flickr_-_NOAA_Photo_Library-removebg-preview 1.png" class="moving-image" alt="" id="Poisson2BAS"></Img>
  

      
      <Img data-depth="0.2" src="img/Montagne1.svg" alt="" id="mtn3BAS"></Img>
      <p id="p3" data-depth="0.1">LE POISSON LANTERNE : <br>

        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure 
        dolor in reprehenderit in voluptate velit esse </p>
      <Img data-depth="0.3" src="img/Mask group.png" alt="" id="Poisson3BAS"></Img>
    
  




    <Img data-depth="0.2" src="img/SuperbeLumiere.svg" altb="" id="SuperbeLumiere"></Img>
    <h1 data-depth="0.5">Bienvenue <br> dans <br> les ABYSSE</h1>
    <dotlottie-player data-depth="0.5" id="bubule1" src="https://lottie.host/b91ca10e-aabd-4ea1-a727-fa09997e261b/5agRRovm1Z.lottie" 
    background="transparent" speed="0.5" style="width: (70vw); height: 70vh; margin-left: -30%;" loop autoplay></dotlottie-player>

    <dotlottie-player data-depth="0.5" id="bubule2" src="https://lottie.host/b91ca10e-aabd-4ea1-a727-fa09997e261b/5agRRovm1Z.lottie" 
    background="transparent" speed="0.5" style="width: (70vw); height: 70vh; margin-left: 30%;" loop autoplay></dotlottie-player>
    <div class="container" id="container">
      <div class="square square-2"></div>
 
    </div>

    <dotlottie-player data-depth="0.5" id="bubule2" src="https://lottie.host/b91ca10e-aabd-4ea1-a727-fa09997e261b/5agRRovm1Z.lottie" 
    background="transparent" speed="0.5" style="width: (70vw); height: 70vh; margin-left: -40%; margin-top: 90%;" loop autoplay></dotlottie-player>
    <div class="container" id="container">
      <div class="square square-2"></div>
 
    </div>
    
    <dotlottie-player data-depth="0.5" id="bubule2" src="https://lottie.host/b91ca10e-aabd-4ea1-a727-fa09997e261b/5agRRovm1Z.lottie" 
    background="transparent" speed="0.5" style="width: (70vw); height: 70vh; margin-left: -40%; margin-top: 90%;" loop autoplay></dotlottie-player>
    <div class="container" id="container">
      <div class="square square-2"></div>
 
    </div>

    <dotlottie-player data-depth="0.5" id="bubule2" src="https://lottie.host/b91ca10e-aabd-4ea1-a727-fa09997e261b/5agRRovm1Z.lottie" 
    background="transparent" speed="0.5" style="width: (70vw); height: 70vh; margin-left: 40%; margin-top: 180%;" loop autoplay></dotlottie-player>
    <div class="container" id="container">
      <div class="square square-2"></div>
 
    </div>

    <dotlottie-player data-depth="0.5" id="poissonidle" src="https://lottie.host/39931686-f393-43e4-a664-eab1c87a9c23/g7g6qn4qLT.lottie" 
    background="transparent" speed="0.5" style="width: (100vw); height: 130vh; margin-left: 0%;" loop autoplay></dotlottie-player>
    <div class="container" id="container">
      <div class="square square-2"></div>
 
    </div>

    <dotlottie-player data-depth="0.5" id="poissonidle" src="https://lottie.host/39931686-f393-43e4-a664-eab1c87a9c23/g7g6qn4qLT.lottie" 
    background="transparent" speed="0.5" style="width: (100vw); height: 130vh; margin-top: 110%;" loop autoplay></dotlottie-player>
    <div class="container" id="container">
      <div class="square square-2"></div>
 
    </div>
    
  

   


    <!-- <div data-depth="0.2"><Img src="img/SiteWeb.svg"  alt="" id="sol7"></Img></div> -->

    <!-- <div data-depth="0.2"><Img src="img/Blur.svg"  alt="" id="sol7"></Img></div> -->

    <!-- <div data-depth="0.2"><Img src="img/Lumiere de fou.svg"  alt="" id="sol7"></Img></div> -->




  </div>

  <script>
  var scene = document.getElementById('scene');
    var parallaxInstance = new Parallax(scene);

    var container = document.getElementById('container');

    var windowHeight = window.innerHeight;
    var windowWidth = window.innerWidth;
    var scrollArea = 1000 - windowHeight;
    var square2 = document.getElementsByClassName('square')[2];

    var targetPosition = 0; // La position cible de l'élément
    var currentPosition = 0; // La position actuelle pour l'interpolation
    var easing = 0.01; // Facteur de lissage (plus proche de 1 = rapide, plus proche de 0 = lent)


  </script>
<script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>

<div id="set-height"></div>
<p id="time"></p>
<div data-depth="1" id="lottie-animation"></div>

<!-- Inclure la bibliothèque Lottie.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
</div>
<script>
    // Initialisation de la variable Lottie
    var animation = lottie.loadAnimation({
        container: document.getElementById('lottie-animation'), // Div cible
        renderer: 'svg', // Rendu SVG pour la transparence
        loop: true, // Animation en boucle
        autoplay: false, // Ne pas démarrer automatiquement
        path: 'video/Composition 1.json' // Chemin du fichier Lottie local
        
        
    });



    // Variables pour le contrôle du défilement
    var playbackConst = 2.5; // Vitesse de lecture
    var setHeight = document.getElementById("set-height");

 

    // Lecture de l'animation au défilement
    function scrollPlay() {
        var frameNumber = Math.floor(window.pageYOffset / playbackConst);
        animation.goToAndStop(frameNumber, true); // Aller au frame correspondant
        window.requestAnimationFrame(scrollPlay);
    }

    // Lancer l'animation
    window.requestAnimationFrame(scrollPlay);
</script>
<div id="HorizontalScroll">
  <h3 id="ScrollH3">Intéressé?<br>
    Découvrez les en profondeur</h3>

    <div class="carousel-section">
      <div class="carousel-wrapper">
          <div class="carousel-container">
              <div class="carousel-item" style="background-image: url('img/le-poisson-lanterne-pratique-une-etonnante-symbiose\ \(1\)\ 2.png');"></div>
              <div class="carousel-item" style="background-image: url('img/Fish4104_-_Flickr_-_NOAA_Photo_Library-removebg-preview 1.png');"></div>
              <div class="carousel-item" style="background-image: url('img/Maskgroup.png');"></div>

          </div>
      </div>
    </div>
    
</div>



<div>
  <dotlottie-player data-depth="0.5" id="testpoisson" src="https://lottie.host/39931686-f393-43e4-a664-eab1c87a9c23/g7g6qn4qLT.lottie" 
  background="transparent" speed="0.5" style="width: (100vw); height: 130vh; margin-top: 0%; position: fixed;" loop autoplay></dotlottie-player>
  
  </div>
  <img id="imgEnding" src="img/Clip path group.svg">
  <dotlottie-player data-depth="0.5" id="" src="https://lottie.host/b91ca10e-aabd-4ea1-a727-fa09997e261b/5agRRovm1Z.lottie" 
  background="transparent" speed="0.5" style="width: (100vw); height: 100vh; margin-left: -50%; position: fixed ; z-index: 1000000000;" loop autoplay></dotlottie-player>

</div>


<script>
const carousel = document.querySelector(".carousel-section");
let scrollAmount = 0;

carousel.addEventListener("wheel", (event) => {
    event.preventDefault();
    scrollAmount += event.deltaY;
    carousel.style.transform = `translateX(${-scrollAmount}px)`;
}, { passive: false });

</script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const poisson = document.getElementById("Poisson3BAS");
        let isImageVisible = false; // Permet de savoir si l'image est à l'écran
        const vitesse = 110; // Facteur de vitesse : plus grand, plus rapide
    
        // Observer pour détecter quand l'image entre dans l'écran
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    isImageVisible = true; // Active le déplacement
                } else {
                    isImageVisible = false; // Stoppe le déplacement
                }
            });
        }, { threshold: 0.02 }); // Déclenche l'effet quand 20% de l'image est visible
    
        observer.observe(poisson);
    
        function moveImage() {
            if (isImageVisible) { // On ne bouge l'image QUE si elle est visible
                let scrollMax = document.documentElement.scrollHeight - window.innerHeight;
                let pourcentageScroll = window.scrollY / scrollMax;
    
                // Ajuste la position en fonction du pourcentage du scroll et du facteur de vitesse
                let nouvellePosition = pourcentageScroll * (window.innerWidth - poisson.offsetWidth) * 0.5;
    
                poisson.style.left = nouvellePosition + "px"; // Déplace l'image
            }
        }
    
        // Active le mouvement au scroll
        window.addEventListener("scroll", moveImage);
    });
    </script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
      const poisson3 = document.getElementById("Poisson3BAS");
      let isImageVisible = false; // Permet de savoir si l'image est à l'écran
      const vitesse = 510; // Facteur de vitesse : plus grand, plus rapide
  
      // Observer pour détecter quand l'image entre dans l'écran
      const observer = new IntersectionObserver(entries => {
          entries.forEach(entry => {
              if (entry.isIntersecting) {
                  isImageVisible = true; // Active le déplacement
              } else {
                  isImageVisible = false; // Stoppe le déplacement
              }
          });
      }, { threshold: 0.02 }); // Déclenche l'effet quand 20% de l'image est visible
  
      observer.observe(poisson3);
  
      function moveImage() {
          if (isImageVisible) { // On ne bouge l'image QUE si elle est visible
              let scrollMax = document.documentElement.scrollHeight - window.innerHeight;
              let pourcentageScroll = window.scrollY / scrollMax;
  
              // Ajuste la position en fonction du pourcentage du scroll et du facteur de vitesse
              let nouvellePosition = pourcentageScroll * (window.innerWidth - poisson.offsetWidth) * 0.9;
  
              poisson3.style.left = nouvellePosition + "px"; // Déplace l'image
          }
      }
  
      // Active le mouvement au scroll
      window.addEventListener("scroll", moveImage);
  });
  </script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
      const poisson2 = document.getElementById("Poisson2BAS");
      let isImageVisible = false; // Permet de savoir si l'image est à l'écran
      const vitesse = 110; // Facteur de vitesse : plus grand, plus rapide
  
      // Observer pour détecter quand l'image entre dans l'écran
      const observer = new IntersectionObserver(entries => {
          entries.forEach(entry => {
              if (entry.isIntersecting) {
                  isImageVisible = true; // Active le déplacement
              } else {
                  isImageVisible = false; // Stoppe le déplacement
              }
          });
      }, { threshold: 0.02 }); // Déclenche l'effet quand 20% de l'image est visible
  
      observer.observe(poisson2);
  
      function moveImage() {
          if (isImageVisible) { // On ne bouge l'image QUE si elle est visible
              let scrollMax = document.documentElement.scrollHeight - window.innerHeight;
              let pourcentageScroll = window.scrollY / scrollMax;
  
              // Ajuste la position en fonction du pourcentage du scroll et du facteur de vitesse
              let nouvellePosition = pourcentageScroll * (window.innerWidth - poisson.offsetWidth) * 0.3;
  
              poisson.style.left = nouvellePosition + "px"; // Déplace l'image
          }
      }
  
      // Active le mouvement au scroll
      window.addEventListener("scroll", moveImage);
  });
  </script>
    

    <script>
      document.addEventListener("DOMContentLoaded", function () {
          const poisson = document.getElementById("Poisson1BAS");
          let isImageVisible = false; // Permet de savoir si l'image est à l'écran
          const vitesse = 110; // Facteur de vitesse : plus grand, plus rapide
      
          // Observer pour détecter quand l'image entre dans l'écran
          const observer = new IntersectionObserver(entries => {
              entries.forEach(entry => {
                  if (entry.isIntersecting) {
                      isImageVisible = true; // Active le déplacement
                  } else {
                      isImageVisible = false; // Stoppe le déplacement
                  }
              });
          }, { threshold: 0.02 }); // Déclenche l'effet quand 20% de l'image est visible
      
          observer.observe(poisson);
      
          function moveImage() {
              if (isImageVisible) { // On ne bouge l'image QUE si elle est visible
                  let scrollMax = document.documentElement.scrollHeight - window.innerHeight;
                  let pourcentageScroll = window.scrollY / scrollMax;
      
                  // Ajuste la position en fonction du pourcentage du scroll et du facteur de vitesse
                  let nouvellePosition = pourcentageScroll * (window.innerWidth - poisson.offsetWidth) * 1.9;
      
                  poisson.style.left = nouvellePosition + "px"; // Déplace l'image
              }
          }
      
          // Active le mouvement au scroll
          window.addEventListener("scroll", moveImage);
      });
      </script>


</body>

</html>